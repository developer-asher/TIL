<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Merge Sort(합병정렬)</title>
  </head>
  <body>
    <script>
      // 왼쪽과 오른쪽 배열을 받아서 하나로 합치는 함수
      function merge(left, right) {
        let result = [];

        while (left.length !== 0 && right.length !== 0) {
          left[0] <= right[0] //같을때는 누가 먼저 들어가도 상관x
            ? result.push(left.shift())
            : result.push(right.shift());
        }

        // left, right 둘 중 하나는 요소가 남아있기 때문에 result에 붙여줌.
        // 빈 배열의 경우, spread syntax를 사용해도 비어 있기 때문에 그냥 다 붙여줘도 된다.
        return [...result, ...left, ...right];
      }

      function mergeSort(arr) {
        if (arr.length === 1) return arr; // 배열이 최소 단위로 쪼개지면 정렬 끝

        let mid = Math.floor(arr.length / 2);
        let left = arr.slice(0, mid);
        let right = arr.slice(mid);

        // 배열의 요소가 1개 일 때까지 재귀함수를 실행해 배열을 쪼개고
        // 요소가 1개가 되면 left,right를 차근차근 merge(정렬해서 합치기)해줌.
        return merge(mergeSort(left), mergeSort(right));
      }

      const input = [5, 4, 3, 2, 1, 6];
      console.log(mergeSort(input));
    </script>
  </body>
</html>
